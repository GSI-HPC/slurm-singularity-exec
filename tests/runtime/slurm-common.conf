# Common Slurm configuration for all versions
ClusterName=test
SlurmctldHost=slurmctld

# Logging - log to stdout/stderr for container visibility
SlurmctldDebug=debug
SlurmdDebug=debug

# Scheduler
SchedulerType=sched/backfill
SelectType=select/cons_tres
SelectTypeParameters=CR_Core

# State preservation
StateSaveLocation=/var/spool/slurmctld
SlurmdSpoolDir=/var/spool/slurmd

# Authentication
AuthType=auth/munge
CryptoType=crypto/munge

# Timeouts
SlurmctldTimeout=300
SlurmdTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0

# Return to service
ReturnToService=2

# MPI
MpiDefault=none

# Node configuration (CPUs=4 to match typical GitHub Actions runner: 2 cores * 2 threads)
NodeName=slurmd Gres=gpu:0 CPUs=4 Boards=1 SocketsPerBoard=1 CoresPerSocket=2 ThreadsPerCore=2 RealMemory=1000 State=UNKNOWN

# Partition configuration
PartitionName=debug Nodes=slurmd Default=YES MaxTime=INFINITE State=UP
